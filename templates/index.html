<script>
    ws.onmessage = function(event) {
        const data = JSON.parse(event.data); // Декодируем сообщение
        const logEntry = document.createElement("div");
        logEntry.classList.add("log-entry");

        // Форматируем сообщение
        logEntry.innerHTML = `
            <strong>${data.event}</strong>: ${data.message}
            <span style="float: right; font-size: 0.8em; color: gray;">${new Date().toLocaleTimeString()}</span>
        `;
        document.getElementById("logs").appendChild(logEntry);

        // Автоматически прокручиваем в конец
        const logsDiv = document.getElementById("logs");
        logsDiv.scrollTop = logsDiv.scrollHeight;
    };
</script>
